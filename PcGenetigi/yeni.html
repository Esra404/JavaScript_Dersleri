<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TO-DO-LİST UYGULAMASI</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>
    <h1>TO LİST UYGULAMASI</h1>
    <button onclick="getInput()" id="userInput">Yeni Liste Ekle</button>
    <p id="output"></p>
    <ol class="to-dos" id="toDoContainer">


        <div class="row">
            <div class="col-4" id="left">
                <button class="todo-list" array-index="1">Hobi Listesi</button>
                <button class="todo-list" array-index="0">Alisveris Listesi</button>
                <button class="todo-list" array-index="2">Film Listesi </button>
            </div>
            <div class="col-8" id="right"></div>
        </div>



    </ol>

    <script>

        let div = document.getElementById("right")

        let TODOLISTARRAY = [["1kg elma", "sut", "ekmek"], ["model araba yap", "resim kursuna yazil"], ["interstaller", "pulp fuction"]]

        let buttons = document.getElementsByClassName("todo-list")
        for (let i = 0; i < buttons.length; i++) {
            buttons[i].addEventListener("click", evt => {
                console.log("veriler: ", evt)
                let index = buttons[i].getAttribute("array-index");
                console.log("index: ", index)
                clearRightDivAndCreateTodoListItems(index);
            })

        }

        function clearRightDivAndCreateTodoListItems(index) {
            let div = document.getElementById("right")
            div.innerHTML = "";
            console.log(TODOLISTARRAY)
            arr = TODOLISTARRAY[index]
            arr.forEach(x => {
                div.appendChild(createLabel(x))
            })
        }


        function createLabel(title) {
            let label = document.createElement("p");
            label.textContent = title;
            label.style.color = "blue";
            return label;
        }


        function getInput() {
            let userInput = prompt("Oluşturmak istediğiniz listeyi girin:");
            if (userInput) {
                let listItem = document.createElement('li');

                let button = document.createElement('button');
                button.textContent = userInput;
                button.id = "liButton";

                button.addEventListener("click", function () {
                    let div = document.createElement("div");
                    div.setAttribute('class', 'divSag');
                    document.body.appendChild(div);


                    let input = document.createElement("input");
                    input.setAttribute('id', 'taskInput');
                    input.placeholder = 'Bu bir input elementidir.';
                    document.body.appendChild(input);

                    let button2 = document.createElement("button");
                    button2.textContent = "Ekle";
                    button2.addEventListener("click", addTask);
                    document.body.appendChild(button2);

                    let ulYapisi = document.createElement("ul");
                    ulYapisi.setAttribute('id', 'taskList');
                    document.body.appendChild(ulYapisi);
                });

                let deleteButton = document.createElement('button');
                deleteButton.textContent = ' Sil';
                deleteButton.addEventListener("click", function () {
                    listItem.remove();
                });

                listItem.appendChild(button);
                listItem.appendChild(deleteButton);

                document.getElementById("toDoContainer").appendChild(listItem);
            } else {
                document.getElementById("output").textContent = "";
            }
        }

        function addTask() {
            let input = document.getElementById("taskInput");
            let task = input.value;

            if (task !== "") {
                let listItem = document.createElement("li");
                listItem.textContent = task;

                let deleteButton = document.createElement("button");
                deleteButton.textContent = "Sil";
                deleteButton.addEventListener("click", function () {
                    listItem.remove();
                });

                listItem.appendChild(deleteButton);
                listItem.addEventListener("click", function () {
                    this.classList.toggle("completed");
                });

                let taskList = document.getElementById("taskList");
                taskList.appendChild(listItem);

                input.value = "";
            }
        }
    </script>

</body>

</html>